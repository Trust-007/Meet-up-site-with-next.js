{"ast":null,"code":"import { MongoClient } from 'mongodb';\n\nasync function handler(req, res) {\n  if (req.method === 'POST') {\n    try {\n      const data = req.body; // const {title, address, description, image} = data;\n\n      const client = await MongoClient.connect('mongodb+srv://first_user:hello_World@cluster0.2xflz.mongodb.net/meetups?retryWrites=true&w=majority');\n      const db = client.db();\n      const meetupsCollection = db.collection('meetups');\n      const result = await meetupsCollection.insertOne(data);\n      console.log(result);\n      client.close();\n      res.status(201).json({\n        message: 'Meetup inserted'\n      });\n    } catch (err) {\n      err.message;\n    }\n  }\n}\n\nexport default handler;","map":{"version":3,"sources":["C:/React-Apps/Next-App/news-app/pages/api/new-meetup.js"],"names":["MongoClient","handler","req","res","method","data","body","client","connect","db","meetupsCollection","collection","result","insertOne","console","log","close","status","json","message","err"],"mappings":"AAAA,SAASA,WAAT,QAA4B,SAA5B;;AAGA,eAAeC,OAAf,CAAuBC,GAAvB,EAA2BC,GAA3B,EAAgC;AAC7B,MAAGD,GAAG,CAACE,MAAJ,KAAe,MAAlB,EAAyB;AACtB,QAAG;AACE,YAAMC,IAAI,GAAGH,GAAG,CAACI,IAAjB,CADF,CAEJ;;AAEC,YAAMC,MAAM,GAAG,MAAMP,WAAW,CAACQ,OAAZ,CAAoB,qGAApB,CAArB;AACA,YAAMC,EAAE,GAAGF,MAAM,CAACE,EAAP,EAAX;AAEA,YAAMC,iBAAiB,GAAGD,EAAE,CAACE,UAAH,CAAc,SAAd,CAA1B;AAEA,YAAMC,MAAM,GAAG,MAAMF,iBAAiB,CAACG,SAAlB,CAA4BR,IAA5B,CAArB;AAEAS,MAAAA,OAAO,CAACC,GAAR,CAAYH,MAAZ;AACAL,MAAAA,MAAM,CAACS,KAAP;AAEAb,MAAAA,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,QAAAA,OAAO,EAAE;AAAV,OAArB;AACC,KAfD,CAeC,OAAMC,GAAN,EAAU;AACRA,MAAAA,GAAG,CAACD,OAAJ;AACF;AAGH;AACH;;AAED,eAAelB,OAAf","sourcesContent":["import { MongoClient } from 'mongodb';\r\n\r\n\r\nasync function handler(req,res) {\r\n   if(req.method === 'POST'){\r\n      try{\r\n           const data = req.body;\r\n     // const {title, address, description, image} = data;\r\n\r\n      const client = await MongoClient.connect('mongodb+srv://first_user:hello_World@cluster0.2xflz.mongodb.net/meetups?retryWrites=true&w=majority')\r\n      const db = client.db();\r\n\r\n      const meetupsCollection = db.collection('meetups');\r\n\r\n      const result = await meetupsCollection.insertOne(data);\r\n\r\n      console.log(result);\r\n      client.close();\r\n\r\n      res.status(201).json({message: 'Meetup inserted'})\r\n      }catch(err){\r\n         err.message;\r\n      }\r\n     \r\n\r\n   }\r\n}\r\n\r\nexport default handler;"]},"metadata":{},"sourceType":"module"}